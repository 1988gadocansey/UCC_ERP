<div class="row notifications">
  <div *ngIf="Status" class="alert alert-success text-center" role="alert">{{Status}}</div>
</div>
<div class="row">
  <div class="col-sm-3">
    <div class="page-title"><a href="#" class="backbtn">
      <i class="fa fa-arrow-circle-left"></i></a> Colleges</div>
  </div>
</div>
<hr class="mt-2 mb-3"/>

<div class="row header pull-right">


  <div class="col-sm input-group">
    <input type="text" tabindex="1" value="" class="form-control square-input" id="fdsearch" name="fdsearch" placeholder="Enter to Search">
    <div class="input-group-append" id="button-addon4">
      <button type="submit"  class="btn search_btn">
        <i class="fa fa-search pri"></i>
      </button>
      <button class="btn search_btn"><i class="fa fa-refresh"></i></button>
    </div>
  </div>

  <div class="col-sm">

    <button type="button" class="btn btn-outline-success" title="Add College..." (click)="addNewCollegeModal(newCollegeModalTemplate)">Add College</button>

  </div>

</div>
<div><p>&nbsp;</p></div>

<div *ngIf="selectedCollege  else elseBlock">
  <table id="dtBasicExample" class="table table-striped table-bordered table-sm table-responsive">
    <thead>
    <tr>
      <th class="th-sm">No
      <th class="th-sm">Name
      </th>
      <th class="th-sm">Created
      </th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let college of CollegeVm.lists; let i = index">
      <td>{{i + 1}}</td>
      <td>{{college.name|titlecase}}</td>

      <td>{{college.created|date:'medium'}}</td>
      <td>

        <button (click)="showCollegeDetailsModal(editCollegeModalTemplate,college)" *ngIf="college.id != 0" class="btn btn-default btn-xs" role="button">
          <fa-icon [icon]="faEllipsisH"></fa-icon>
        </button>
      </td>

    </tr>
    </tbody>
  </table>
  <pagination [totalItems]="totalItems"></pagination>

</div>
<ng-template #elseBlock>No Colege(s)..</ng-template>
<button [swal]="['Oops!', 'This is not implemented yet :/', 'warning']">
  Do it!
</button>
<ng-template #newCollegeModalTemplate>
  <form [formGroup]="CollegeForm" accept-charset="UTF-8" enctype="text/plain" method="post">

    <div class="modal-header clearfix">
      <h4 class="modal-title float-left">New College</h4>
      <button type="button" class="btn-close" (click)="newCollegeCancelled()" data-dismiss="modal"
              aria-label="Close"></button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <input autocomplete="off" class="form-control input-lg" id="CollegeName" formControlName="CollegeName" placeholder="Name" required=""
               type="text"/>
        <div *ngIf="newListEditor.error" class="invalid-feedback">
          {{ newListEditor.error }}
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div class="text-right">
        <button (click)="newCollegeCancelled()" class="btn btn-default">Cancel</button>
        <button *ngIf="CollegeForm.valid" (click)="addCollege()" class="btn btn-primary">Create</button>
      </div>
    </div>
  </form>
</ng-template>


<ng-template #editCollegeModalTemplate>


  <form [formGroup]="EditCollegeForm" accept-charset="UTF-8" enctype="text/plain" method="post">

    <div class="modal-header clearfix">
      <h4 class="modal-title float-left">Edit College</h4>
      <button type="button" class="btn-close" (click)="showCollegeCancelled()" data-dismiss="modal"
              aria-label="Close"></button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <input type="text" class="form-control" id="name"   formControlName="name" required="required">
        <input type="hidden" class="form-control" id="id"   formControlName="id" required="required">

      </div>
    </div>
    <div class="modal-footer">
      <div class="text-right">
        <button (click)="showCollegeCancelled()" class="btn btn-default">Cancel</button>
        <button type="submit"  (click)="updateCollege()" class="btn btn-primary">Update</button>
      </div>
    </div>
  </form>
</ng-template>
